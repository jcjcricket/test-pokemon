(this["webpackJsonptest-pokemon"]=this["webpackJsonptest-pokemon"]||[]).push([[0],{23:function(e,t,n){e.exports=n(47)},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},37:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(19),s=n.n(c),u=n(9),i=(n(28),n(6)),l=n(1),o=n(12),m=n(13),p=n(22),d=n(21),f=(n(29),function(){return r.a.createElement("div",{className:"error-indicator"},r.a.createElement("span",null,"There is an Error somewhere... "))}),E=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1},e}return Object(m.a)(n,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(f,null):this.props.children}}]),n}(a.Component),v=(n(30),function(e){var t=e.text;return r.a.createElement("span",{className:"warning"},t)}),b=(n(31),function(e){var t=e.handleLoginInput,n=e.handleLoginSubmit,a=e.isLoggedIn,c=e.inApp,s=e.isWarning,u=s.isWarning,i=s.text;return c?r.a.createElement(l.a,{to:"/password"}):a?r.a.createElement(l.a,{to:"/"}):r.a.createElement("div",{className:"login-page"},r.a.createElement("form",{onSubmit:n},r.a.createElement("div",{className:"container"},u?r.a.createElement(v,{text:i}):null,r.a.createElement("label",{htmlFor:"uname"},r.a.createElement("b",null,"Username")),r.a.createElement("input",{type:"text",name:"uname",required:!0,onKeyUp:function(e){return t(e)}}),r.a.createElement("label",{htmlFor:"psw"},r.a.createElement("b",null,"Password")),r.a.createElement("input",{type:"password",name:"psw",required:!0,onKeyUp:function(e){return t(e)}}),r.a.createElement("button",{type:"submit"},"Login"))))}),g=(n(37),function(e){var t=e.inApp,n=e.isLoggedIn,a=e.handlePinSubmit,c=e.handlePinInput,s=e.smsCode,u=e.isWarning,i=u.isWarning,o=u.text;return t?n?r.a.createElement(l.a,{to:"/"}):r.a.createElement("div",{className:"password-page"},r.a.createElement("form",{onSubmit:a},r.a.createElement("div",{className:"container"},i?r.a.createElement(v,{text:o}):null,r.a.createElement("h2",null,"One more step:"),r.a.createElement("input",{type:"text",placeholder:s,name:"pin",required:!0,onKeyUp:function(e){return c(e)}}),r.a.createElement("button",{type:"submit"},"Confirm")))):r.a.createElement(l.a,{to:"/login"})}),h=n(2),y=n.n(h),k=n(7),x=(n(39),function(e){var t=e.info;return r.a.createElement(u.b,{style:{textDecoration:"none",wordWrap:"break-word"},to:"/cards/".concat(t.id)},r.a.createElement("div",{className:"card-view-item",id:t.id},r.a.createElement("img",{src:t.imageUrl,alt:""}),r.a.createElement("p",null,"Name: ",t.name," "),r.a.createElement("p",null,"Artist: ",t.artist," ")))}),O=(n(40),function(e){var t=e.cards.cards.map((function(e){return r.a.createElement(x,{info:e,key:e.id})}));return r.a.createElement("div",{className:"card-view"},r.a.createElement("div",{className:"card-view-row"},t))}),w=(n(41),function(e){var t=e.types,n=e.subtypes,a=e.handleSelect;return r.a.createElement("div",{className:"sidebar"},r.a.createElement("div",null,r.a.createElement("select",{className:"select",name:"type",onChange:function(e){return a(e)}},r.a.createElement("option",{value:"0",hidden:!0},"Select Type:"),t.types.map((function(e,t){return r.a.createElement("option",{value:e,key:t},e)}))),r.a.createElement("select",{className:"select",name:"type",onChange:function(e){return a(e)}},r.a.createElement("option",{value:"0",hidden:!0},"Select Subtype:"),n.subtypes.map((function(e){return r.a.createElement("option",{value:e,key:e},e)})))))}),j=(n(42),function(){return r.a.createElement("div",{className:"cssload-loader"})}),S=(n(43),function(e){var t=e.handleLogout,n=Object(a.useContext)(T),c=Object(l.g)(),s=Object(l.h)();return r.a.createElement("div",{className:"navbar"},r.a.createElement("ul",null,r.a.createElement("li",{className:"navbar-back"},"/"!==s.pathname?r.a.createElement(u.b,{to:"",onClick:function(){c.goBack()}},"Back"):null),r.a.createElement("li",{className:"navbar-logout"},r.a.createElement(u.b,{onClick:t,to:"/"},n?"Logout":"Login"))))}),N=(n(44),function(){function e(){Object(o.a)(this,e)}return Object(m.a)(e,[{key:"getResource",value:function(){var e=Object(k.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("cant fetch api return ".concat(n.status));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllCards",value:function(){var e=Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getResource("https://api.pokemontcg.io/v1/cards/");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCard",value:function(){var e=Object(k.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getResource("https://api.pokemontcg.io/v1/cards/".concat(t,"/"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTypesList",value:function(){var e=Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getResource("https://api.pokemontcg.io/v1/types/");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSubtypesList",value:function(){var e=Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getResource("https://api.pokemontcg.io/v1/subtypes/");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTypeOf",value:function(){var e=Object(k.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getResource("https://api.pokemontcg.io/v1/cards?types=".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSubtypeOf",value:function(){var e=Object(k.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getResource("https://api.pokemontcg.io/v1/cards?subtype=".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),L=new N,C=function(e){var t=e.handleLogout,n=Object(a.useState)({cards:[]}),c=Object(i.a)(n,2),s=c[0],u=c[1],l=Object(a.useState)({types:[]}),o=Object(i.a)(l,2),m=o[0],p=o[1],d=Object(a.useState)({subtypes:[]}),f=Object(i.a)(d,2),E=f[0],v=f[1],b=Object(a.useState)(null),g=Object(i.a)(b,2),h=g[0],x=g[1],N=Object(a.useState)(!1),C=Object(i.a)(N,2),I=C[0],W=C[1];Object(a.useEffect)((function(){function e(){return(e=Object(k.a)(y.a.mark((function e(){var t,n,a,r,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.getTypesList();case 2:return t=e.sent,e.next=5,L.getSubtypesList();case 5:if(n=e.sent,p(t),v(n),!m.types.includes(h)){e.next=16;break}return e.next=11,L.getTypeOf(h);case 11:a=e.sent,u(a),W(!1),e.next=29;break;case 16:if(!E.subtypes.includes(h)){e.next=24;break}return e.next=19,L.getSubtypeOf(h);case 19:r=e.sent,u(r),W(!1),e.next=29;break;case 24:return e.next=26,L.getAllCards();case 26:c=e.sent,u(c),W(!1);case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}W(!0),function(){e.apply(this,arguments)}()}),[h]);return I?r.a.createElement(j,null):r.a.createElement("div",null,r.a.createElement(S,{handleLogout:t}),r.a.createElement("div",{className:"page"},r.a.createElement("div",{className:"cards-page-container"},r.a.createElement(w,{types:m,subtypes:E,handleSelect:function(e){x(e.target.value),console.log(e.target.value)}}),r.a.createElement(O,{cards:s}))))},I=(n(45),new N),W=function(e){var t=e.itemId,n=Object(a.useState)({card:{}}),c=Object(i.a)(n,2),s=c[0],u=c[1];Object(a.useEffect)((function(){function e(){return(e=Object(k.a)(y.a.mark((function e(){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.getCard(t);case 2:n=e.sent,u(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]);var l=s.card;return r.a.createElement("div",null,r.a.createElement(S,null),r.a.createElement("div",{className:"page"},r.a.createElement("div",{className:"card-page-container"},r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{src:l.imageUrlHiRes,alt:"pokemon_card"}),r.a.createElement("div",null,l.attacks?l.attacks.map((function(e){return r.a.createElement("p",{key:l.id},e.text," ")})):"-")),r.a.createElement("div",{className:"pokemon-details"},r.a.createElement("ul",null,r.a.createElement("li",null,"Pokemon name: ",l.name?l.name:"-"),r.a.createElement("li",null,"Type: ",l.types?l.types:"-"),r.a.createElement("li",null,"Subtype: ",l.subtype?l.subtype:"-"),r.a.createElement("hr",null),r.a.createElement("ul",null,"Attack Damage:"," ",l.attacks?l.attacks.map((function(e){return r.a.createElement("li",{key:l.id},e.damage," ")})):"-"),r.a.createElement("ul",null,"Attack Cost:"," ",l.attacks?l.attacks.map((function(e){return r.a.createElement("li",{key:l.id},e.cost," ")})):"-"),r.a.createElement("li",null,"Resistances:"," ",l.resistances?l.resistances.map((function(e){return e.type})):"-",l.resistances?l.resistances.map((function(e){return e.value})):"-"),r.a.createElement("li",null,"Evolves From: ",l.evolvesFrom?l.evolvesFrom:"-"))))))},T=(n(46),r.a.createContext());var A=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),o=Object(i.a)(s,2),m=o[0],p=o[1],d=Object(a.useState)(!0),f=Object(i.a)(d,2),v=f[0],h=f[1],y=Object(a.useState)({isWarning:!1,text:""}),k=Object(i.a)(y,2),x=k[0],O=k[1],w="kode@kode.ru",j="Enk0deng",S={},N={truePin:m,pin:""},L=function(e){S[e.target.name]=e.target.value},I=function(e){e.preventDefault(),w===S.uname&&j===S.psw?(c(!0),p((1e6*Math.random()).toFixed().toString().slice(0,4))):(O({isWarning:!0,text:"Invalid password or username. Try again."}),setTimeout((function(){O({isWarning:!1,text:""})}),3e3))},A=function(e){N[e.target.name]=e.target.value},P=function(e){e.preventDefault(),N.truePin===N.pin?h(!0):(O({isWarning:!0,text:"Invalid PIN. Try again"}),setTimeout((function(){O({isWarning:!1,text:""})}),3e3))},R=function(){h(!1),c(!1)};return r.a.createElement(E,null,r.a.createElement(T.Provider,{value:v},r.a.createElement(u.a,null,r.a.createElement("div",{className:"app"},r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/login",exact:!0,render:function(){return r.a.createElement(b,{handleLoginInput:L,handleLoginSubmit:I,isLoggedIn:v,inApp:n,isWarning:x})}}),r.a.createElement(l.b,{path:"/password",exact:!0,render:function(){return r.a.createElement(g,{isLoggedIn:v,inApp:n,smsCode:m,handlePinInput:A,handlePinSubmit:P,isWarning:x})}}),r.a.createElement(l.b,{path:"/",exact:!0,isLoggedIn:v,render:function(){return v?r.a.createElement(C,{isLoggedIn:v,handleLogout:R}):r.a.createElement(l.a,{to:"/login"})}}),r.a.createElement(l.b,{path:"/cards/:id",exact:!0,render:function(e){var t=e.match;if(!v)return r.a.createElement(l.a,{to:"/login"});var n=t.params.id;return r.a.createElement(W,{itemId:n})}}),r.a.createElement(l.a,{to:"/"}))))))};s.a.render(r.a.createElement(u.a,null,r.a.createElement(A,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.f8dab9d8.chunk.js.map